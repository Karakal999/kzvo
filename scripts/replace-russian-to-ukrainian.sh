#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–º—ñ–Ω–∏ —Ä–æ—Å—ñ–π—Å—å–∫–∏—Ö —Å–ª—ñ–≤ –Ω–∞ —É–∫—Ä–∞—ó–Ω—Å—å–∫—ñ —É –≤—Å—ñ—Ö .md —Ñ–∞–π–ª–∞—Ö

echo "üá∫üá¶ –ó–∞–º—ñ–Ω—é—î–º–æ —Ä–æ—Å—ñ–π—Å—å–∫—É –º–æ–≤—É –Ω–∞ —É–∫—Ä–∞—ó–Ω—Å—å–∫—É..."

# –°–ª–æ–≤–Ω–∏–∫ –Ω–∞–π—á–∞—Å—Ç—ñ—à–∏—Ö —Å–ª—ñ–≤ (—Ä–æ—Å—ñ–π—Å—å–∫–∞ ‚Üí —É–∫—Ä–∞—ó–Ω—Å—å–∫–∞)
declare -A WORDS=(
    # –ó–∞–≥–∞–ª—å–Ω—ñ —Å–ª–æ–≤–∞
    ["–≠—Ç–∞"]="–¶—è"
    ["—ç—Ç–∞"]="—Ü—è"
    ["–≠—Ç–æ"]="–¶–µ"
    ["—ç—Ç–æ"]="—Ü–µ"
    ["–≤—Å–µ"]="–≤—Å—ñ"
    ["–í—Å–µ"]="–í—Å—ñ"
    ["–¥–ª—è"]="–¥–ª—è"  # –æ–¥–Ω–∞–∫–æ–≤–µ
    ["–∏–ª–∏"]="–∞–±–æ"
    ["–ò–ª–∏"]="–ê–±–æ"
    ["–∫–∞–∫"]="—è–∫"
    ["–ö–∞–∫"]="–Ø–∫"
    ["–ø–æ—Å–ª–µ"]="–ø—ñ—Å–ª—è"
    ["–ü–æ—Å–ª–µ"]="–ü—ñ—Å–ª—è"
    ["–ø–µ—Ä–µ–¥"]="–ø–µ—Ä–µ–¥"  # –æ–¥–Ω–∞–∫–æ–≤–µ
    ["—Å –ø–æ–º–æ—â—å—é"]="–∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é"
    ["–° –ø–æ–º–æ—â—å—é"]="–ó–∞ –¥–æ–ø–æ–º–æ–≥–æ—é"
    ["–∏—Å–ø–æ–ª—å–∑—É—è"]="–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏"
    ["–ò—Å–ø–æ–ª—å–∑—É—è"]="–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏"
    ["–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ"]="—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è"
    ["—Å–æ–¥–µ—Ä–∂–∏—Ç"]="–º—ñ—Å—Ç–∏—Ç—å"
    ["–°–æ–¥–µ—Ä–∂–∏—Ç"]="–ú—ñ—Å—Ç–∏—Ç—å"
    ["–ø—Ä–∏–º–µ—Ä—ã"]="–ø—Ä–∏–∫–ª–∞–¥–∏"
    ["–ü—Ä–∏–º–µ—Ä—ã"]="–ü—Ä–∏–∫–ª–∞–¥–∏"
    ["–∑–∞–≥—Ä—É–∑–∫–∞"]="–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è"
    ["–ó–∞–≥—Ä—É–∑–∫–∞"]="–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è"
    ["–æ—à–∏–±–∫–∞"]="–ø–æ–º–∏–ª–∫–∞"
    ["–û—à–∏–±–∫–∞"]="–ü–æ–º–∏–ª–∫–∞"
    ["—É—Å–ø–µ—Ö"]="—É—Å–ø—ñ—Ö"
    ["–£—Å–ø–µ—Ö"]="–£—Å–ø—ñ—Ö"
    
    # i18n —Ç–µ—Ä–º—ñ–Ω–æ–ª–æ–≥—ñ—è
    ["–ü–µ—Ä–µ–≤–æ–¥—ã"]="–ü–µ—Ä–µ–∫–ª–∞–¥–∏"
    ["–ø–µ—Ä–µ–≤–æ–¥—ã"]="–ø–µ—Ä–µ–∫–ª–∞–¥–∏"
    ["–ü–µ—Ä–µ–≤–æ–¥"]="–ü–µ—Ä–µ–∫–ª–∞–¥"
    ["–ø–µ—Ä–µ–≤–æ–¥"]="–ø–µ—Ä–µ–∫–ª–∞–¥"
    ["—è–∑—ã–∫–∏"]="–º–æ–≤–∏"
    ["–Ø–∑—ã–∫–∏"]="–ú–æ–≤–∏"
    ["—è–∑—ã–∫"]="–º–æ–≤–∞"
    ["–Ø–∑—ã–∫"]="–ú–æ–≤–∞"
    ["—Å—Ç—Ä—É–∫—Ç—É—Ä–∞"]="—Å—Ç—Ä—É–∫—Ç—É—Ä–∞"  # –æ–¥–Ω–∞–∫–æ–≤–µ
    ["–û–ø–∏—Å–∞–Ω–∏–µ"]="–û–ø–∏—Å"
    ["–æ–ø–∏—Å–∞–Ω–∏–µ"]="–æ–ø–∏—Å"
    ["—Ñ–∞–π–ª–æ–≤"]="—Ñ–∞–π–ª—ñ–≤"
    ["–§–∞–π–ª–æ–≤"]="–§–∞–π–ª—ñ–≤"
    
    # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
    ["–∫–Ω–æ–ø–∫–∏"]="–∫–Ω–æ–ø–∫–∏"  # –æ–¥–Ω–∞–∫–æ–≤–µ
    ["–ö–Ω–æ–ø–∫–∏"]="–ö–Ω–æ–ø–∫–∏"
    ["–º–µ—Ç–∫–∏"]="–º—ñ—Ç–∫–∏"
    ["–ú–µ—Ç–∫–∏"]="–ú—ñ—Ç–∫–∏"
    ["—Å—Ç–∞—Ç—É—Å—ã"]="—Å—Ç–∞—Ç—É—Å–∏"
    ["–°—Ç–∞—Ç—É—Å—ã"]="–°—Ç–∞—Ç—É—Å–∏"
    ["–≤—Ä–µ–º–µ–Ω–Ω—ã–µ"]="—á–∞—Å–æ–≤—ñ"
    ["–í—Ä–µ–º–µ–Ω–Ω—ã–µ"]="–ß–∞—Å–æ–≤—ñ"
    ["–Ω–∞–≤–∏–≥–∞—Ü–∏—è"]="–Ω–∞–≤—ñ–≥–∞—Ü—ñ—è"
    ["–ù–∞–≤–∏–≥–∞—Ü–∏—è"]="–ù–∞–≤—ñ–≥–∞—Ü—ñ—è"
    ["—ç–ª–µ–º–µ–Ω—Ç—ã"]="–µ–ª–µ–º–µ–Ω—Ç–∏"
    ["–≠–ª–µ–º–µ–Ω—Ç—ã"]="–ï–ª–µ–º–µ–Ω—Ç–∏"
    ["–≥–ª–∞–≤–Ω–æ–µ"]="–≥–æ–ª–æ–≤–Ω–µ"
    ["–ì–ª–∞–≤–Ω–æ–µ"]="–ì–æ–ª–æ–≤–Ω–µ"
    ["–º–µ–Ω—é"]="–º–µ–Ω—é"  # –æ–¥–Ω–∞–∫–æ–≤–µ
    ["—Ñ—É—Ç–µ—Ä"]="—Ñ—É—Ç–µ—Ä"  # –æ–¥–Ω–∞–∫–æ–≤–µ
    ["—Ö–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏"]="—Ö–ª—ñ–±–Ω—ñ –∫—Ä–∏—Ö—Ç–∏"
    ["–•–ª–µ–±–Ω—ã–µ –∫—Ä–æ—à–∫–∏"]="–•–ª—ñ–±–Ω—ñ –∫—Ä–∏—Ö—Ç–∏"
    
    # –°—Ç–æ—Ä—ñ–Ω–∫–∏
    ["–∫–æ–Ω—Ç–µ–Ω—Ç"]="–∫–æ–Ω—Ç–µ–Ω—Ç"  # –æ–¥–Ω–∞–∫–æ–≤–µ
    ["—Å—Ç—Ä–∞–Ω–∏—Ü"]="—Å—Ç–æ—Ä—ñ–Ω–æ–∫"
    ["–°—Ç—Ä–∞–Ω–∏—Ü"]="–°—Ç–æ—Ä—ñ–Ω–æ–∫"
    ["–≥–ª–∞–≤–Ω–∞—è"]="–≥–æ–ª–æ–≤–Ω–∞"
    ["–ì–ª–∞–≤–Ω–∞—è"]="–ì–æ–ª–æ–≤–Ω–∞"
    ["–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ"]="–æ—Å–≤—ñ—Ç–∞"
    ["–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ"]="–û—Å–≤—ñ—Ç–∞"
    ["—É—á–∏—Ç–µ–ª–µ–π"]="–≤—á–∏—Ç–µ–ª—ñ–≤"
    ["–£—á–∏—Ç–µ–ª–µ–π"]="–í—á–∏—Ç–µ–ª—ñ–≤"
    ["—É—á–µ–Ω–∏–∫–æ–≤"]="—É—á–Ω—ñ–≤"
    ["–£—á–µ–Ω–∏–∫–æ–≤"]="–£—á–Ω—ñ–≤"
    ["–∫–æ–Ω—Ç–∞–∫—Ç—ã"]="–∫–æ–Ω—Ç–∞–∫—Ç–∏"
    ["–ö–æ–Ω—Ç–∞–∫—Ç—ã"]="–ö–æ–Ω—Ç–∞–∫—Ç–∏"
    
    # –î—ñ—ó
    ["–¥–æ–±–∞–≤–∏—Ç—å"]="–¥–æ–¥–∞—Ç–∏"
    ["–î–æ–±–∞–≤–∏—Ç—å"]="–î–æ–¥–∞—Ç–∏"
    ["–Ω–æ–≤—ã–π"]="–Ω–æ–≤–∏–π"
    ["–ù–æ–≤—ã–π"]="–ù–æ–≤–∏–π"
    ["–æ—Ç–∫—Ä–æ–π—Ç–µ"]="–≤—ñ–¥–∫—Ä–∏–π—Ç–µ"
    ["–û—Ç–∫—Ä–æ–π—Ç–µ"]="–í—ñ–¥–∫—Ä–∏–π—Ç–µ"
    ["—Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ"]="–∑–±–µ—Ä–µ–∂—ñ—Ç—å"
    ["–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ"]="–ó–±–µ—Ä–µ–∂—ñ—Ç—å"
    ["–ø–µ—Ä–µ–∫–ª–∞–¥—ñ—Ç—å"]="–ø–µ—Ä–µ–∫–ª–∞–¥—ñ—Ç—å"  # –æ–¥–Ω–∞–∫–æ–≤–µ
    
    # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
    ["–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è"]="–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è"
    ["–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è"]="–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è"
    ["—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ"]="–ø–æ—Å—ñ–±–Ω–∏–∫"
    ["–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ"]="–ü–æ—Å—ñ–±–Ω–∏–∫"
    ["–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è"]="—ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è"
    ["–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è"]="–Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è"
    ["–Ω–∞—Å—Ç—Ä–æ–π–∫–∞"]="–Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è"
    ["–ù–∞—Å—Ç—Ä–æ–π–∫–∞"]="–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è"
)

# –ü—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ –∑–∞–º—ñ–Ω
TOTAL_REPLACED=0

# –û–±—Ä–æ–±–∫–∞ –≤—Å—ñ—Ö .md —Ñ–∞–π–ª—ñ–≤
find . -name "*.md" -not -path "*/node_modules/*" | while read file; do
    echo "  –û–±—Ä–æ–±–∫–∞: $file"
    REPLACED=0
    
    for russian in "${!WORDS[@]}"; do
        ukrainian="${WORDS[$russian]}"
        # –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ sed –¥–ª—è –∑–∞–º—ñ–Ω–∏ (macOS –≤–µ—Ä—Å—ñ—è)
        if [[ "$OSTYPE" == "darwin"* ]]; then
            # macOS
            if grep -q "$russian" "$file" 2>/dev/null; then
                sed -i '' "s/$russian/$ukrainian/g" "$file"
                ((REPLACED++))
            fi
        else
            # Linux
            if grep -q "$russian" "$file" 2>/dev/null; then
                sed -i "s/$russian/$ukrainian/g" "$file"
                ((REPLACED++))
            fi
        fi
    done
    
    if [ $REPLACED -gt 0 ]; then
        echo "    ‚úÖ –ó–∞–º—ñ–Ω–µ–Ω–æ $REPLACED —Å–ª—ñ–≤"
    fi
done

echo "‚úÖ –ì–æ—Ç–æ–≤–æ! –í—Å—ñ —Ñ–∞–π–ª–∏ –æ–±—Ä–æ–±–ª–µ–Ω–æ."
echo ""
echo "‚ö†Ô∏è  –í–ê–ñ–õ–ò–í–û: –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∑–º—ñ–Ω–∏ –≤—Ä—É—á–Ω—É!"
echo "    git diff"

